"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[87],{"./components/main/TopBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TopBar});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),index_es=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),free_solid_svg_icons=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),value=__webpack_require__("./node_modules/framer-motion/dist/es/value/index.mjs"),use_constant=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs"),errors=__webpack_require__("./node_modules/framer-motion/dist/es/utils/errors.mjs"),resolve_element=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/utils/resolve-element.mjs");const resizeHandlers=new WeakMap;let observer;function notifyTarget({target,contentRect,borderBoxSize}){var _a;null===(_a=resizeHandlers.get(target))||void 0===_a||_a.forEach((handler=>{handler({target,contentSize:contentRect,get size(){return function getElementSize(target,borderBoxSize){if(borderBoxSize){const{inlineSize,blockSize}=borderBoxSize[0];return{width:inlineSize,height:blockSize}}return target instanceof SVGElement&&"getBBox"in target?target.getBBox():{width:target.offsetWidth,height:target.offsetHeight}}(target,borderBoxSize)}})}))}function notifyAll(entries){entries.forEach(notifyTarget)}function resizeElement(target,handler){observer||function createResizeObserver(){"undefined"!=typeof ResizeObserver&&(observer=new ResizeObserver(notifyAll))}();const elements=(0,resolve_element.K)(target);return elements.forEach((element=>{let elementHandlers=resizeHandlers.get(element);elementHandlers||(elementHandlers=new Set,resizeHandlers.set(element,elementHandlers)),elementHandlers.add(handler),null==observer||observer.observe(element)})),()=>{elements.forEach((element=>{const elementHandlers=resizeHandlers.get(element);null==elementHandlers||elementHandlers.delete(handler),(null==elementHandlers?void 0:elementHandlers.size)||null==observer||observer.unobserve(element)}))}}const windowCallbacks=new Set;let windowResizeHandler;function resizeWindow(callback){return windowCallbacks.add(callback),windowResizeHandler||function createWindowResizeHandler(){windowResizeHandler=()=>{const size={width:window.innerWidth,height:window.innerHeight},info={target:window,size,contentSize:size};windowCallbacks.forEach((callback=>callback(info)))},window.addEventListener("resize",windowResizeHandler)}(),()=>{windowCallbacks.delete(callback),!windowCallbacks.size&&windowResizeHandler&&(windowResizeHandler=void 0)}}var progress=__webpack_require__("./node_modules/framer-motion/dist/es/utils/progress.mjs"),velocity_per_second=__webpack_require__("./node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs");const maxElapsed=50,createScrollInfo=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),keys={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(element,axisName,info,time){const axis=info[axisName],{length,position}=keys[axisName],prev=axis.current,prevTime=info.time;axis.current=element["scroll"+position],axis.scrollLength=element["scroll"+length]-element["client"+length],axis.offset.length=0,axis.offset[0]=0,axis.offset[1]=axis.scrollLength,axis.progress=(0,progress.q)(0,axis.scrollLength,axis.current);const elapsed=time-prevTime;axis.velocity=elapsed>maxElapsed?0:(0,velocity_per_second.f)(axis.current-prev,elapsed)}const ScrollOffset={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},namedEdges={start:0,center:.5,end:1};function resolveEdge(edge,length,inset=0){let delta=0;if(void 0!==namedEdges[edge]&&(edge=namedEdges[edge]),"string"==typeof edge){const asNumber=parseFloat(edge);edge.endsWith("px")?delta=asNumber:edge.endsWith("%")?edge=asNumber/100:edge.endsWith("vw")?delta=asNumber/100*document.documentElement.clientWidth:edge.endsWith("vh")?delta=asNumber/100*document.documentElement.clientHeight:edge=asNumber}return"number"==typeof edge&&(delta=length*edge),inset+delta}const defaultOffset=[0,0];function resolveOffset(offset,containerLength,targetLength,targetInset){let offsetDefinition=Array.isArray(offset)?offset:defaultOffset,targetPoint=0,containerPoint=0;return"number"==typeof offset?offsetDefinition=[offset,offset]:"string"==typeof offset&&(offsetDefinition=(offset=offset.trim()).includes(" ")?offset.split(" "):[offset,namedEdges[offset]?offset:"0"]),targetPoint=resolveEdge(offsetDefinition[0],targetLength,targetInset),containerPoint=resolveEdge(offsetDefinition[1],containerLength),targetPoint-containerPoint}var interpolate=__webpack_require__("./node_modules/framer-motion/dist/es/utils/interpolate.mjs"),offsets_default=__webpack_require__("./node_modules/framer-motion/dist/es/utils/offsets/default.mjs");const point={x:0,y:0};function resolveOffsets(container,info,options){const{offset:offsetDefinition=ScrollOffset.All}=options,{target=container,axis="y"}=options,lengthLabel="y"===axis?"height":"width",inset=target!==container?function calcInset(element,container){const inset={x:0,y:0};let current=element;for(;current&&current!==container;)if(current instanceof HTMLElement)inset.x+=current.offsetLeft,inset.y+=current.offsetTop,current=current.offsetParent;else if("svg"===current.tagName){const svgBoundingBox=current.getBoundingClientRect();current=current.parentElement;const parentBoundingBox=current.getBoundingClientRect();inset.x+=svgBoundingBox.left-parentBoundingBox.left,inset.y+=svgBoundingBox.top-parentBoundingBox.top}else{if(!(current instanceof SVGGraphicsElement))break;{const{x,y}=current.getBBox();inset.x+=x,inset.y+=y;let svg=null,parent=current.parentNode;for(;!svg;)"svg"===parent.tagName&&(svg=parent),parent=current.parentNode;current=svg}}return inset}(target,container):point,targetSize=target===container?{width:container.scrollWidth,height:container.scrollHeight}:function getTargetSize(target){return"getBBox"in target&&"svg"!==target.tagName?target.getBBox():{width:target.clientWidth,height:target.clientHeight}}(target),containerSize={width:container.clientWidth,height:container.clientHeight};info[axis].offset.length=0;let hasChanged=!info[axis].interpolate;const numOffsets=offsetDefinition.length;for(let i=0;i<numOffsets;i++){const offset=resolveOffset(offsetDefinition[i],containerSize[lengthLabel],targetSize[lengthLabel],inset[axis]);hasChanged||offset===info[axis].interpolatorOffsets[i]||(hasChanged=!0),info[axis].offset[i]=offset}hasChanged&&(info[axis].interpolate=(0,interpolate.G)(info[axis].offset,(0,offsets_default.Z)(offsetDefinition)),info[axis].interpolatorOffsets=[...info[axis].offset]),info[axis].progress=info[axis].interpolate(info[axis].current)}function createOnScrollHandler(element,onScroll,info,options={}){return{measure:()=>function measure(container,target=container,info){if(info.x.targetOffset=0,info.y.targetOffset=0,target!==container){let node=target;for(;node&&node!==container;)info.x.targetOffset+=node.offsetLeft,info.y.targetOffset+=node.offsetTop,node=node.offsetParent}info.x.targetLength=target===container?target.scrollWidth:target.clientWidth,info.y.targetLength=target===container?target.scrollHeight:target.clientHeight,info.x.containerLength=container.clientWidth,info.y.containerLength=container.clientHeight}(element,options.target,info),update:time=>{!function updateScrollInfo(element,info,time){updateAxisInfo(element,"x",info,time),updateAxisInfo(element,"y",info,time),info.time=time}(element,info,time),(options.offset||options.target)&&resolveOffsets(element,info,options)},notify:()=>onScroll(info)}}var frameloop_frame=__webpack_require__("./node_modules/framer-motion/dist/es/frameloop/frame.mjs");const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=element=>element===document.documentElement?window:element;function scrollInfo(onScroll,{container=document.documentElement,...options}={}){let containerHandlers=onScrollHandlers.get(container);containerHandlers||(containerHandlers=new Set,onScrollHandlers.set(container,containerHandlers));const info=createScrollInfo(),containerHandler=createOnScrollHandler(container,onScroll,info,options);if(containerHandlers.add(containerHandler),!scrollListeners.has(container)){const measureAll=()=>{for(const handler of containerHandlers)handler.measure()},updateAll=()=>{for(const handler of containerHandlers)handler.update(frameloop_frame.uv.timestamp)},notifyAll=()=>{for(const handler of containerHandlers)handler.notify()},listener=()=>{frameloop_frame.Gt.read(measureAll,!1,!0),frameloop_frame.Gt.read(updateAll,!1,!0),frameloop_frame.Gt.update(notifyAll,!1,!0)};scrollListeners.set(container,listener);const target=getEventTarget(container);window.addEventListener("resize",listener,{passive:!0}),container!==document.documentElement&&resizeListeners.set(container,function resize(a,b){return"function"==typeof a?resizeWindow(a):resizeElement(a,b)}(container,listener)),target.addEventListener("scroll",listener,{passive:!0})}const listener=scrollListeners.get(container);return frameloop_frame.Gt.read(listener,!1,!0),()=>{var _a;(0,frameloop_frame.WG)(listener);const currentHandlers=onScrollHandlers.get(container);if(!currentHandlers)return;if(currentHandlers.delete(containerHandler),currentHandlers.size)return;const scrollListener=scrollListeners.get(container);scrollListeners.delete(container),scrollListener&&(getEventTarget(container).removeEventListener("scroll",scrollListener),null===(_a=resizeListeners.get(container))||void 0===_a||_a(),window.removeEventListener("resize",scrollListener))}}var use_isomorphic_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");function refWarning(name,ref){(0,errors.$)(Boolean(!ref||ref.current),`You have defined a ${name} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const createScrollMotionValues=()=>({scrollX:(0,value.OQ)(0),scrollY:(0,value.OQ)(0),scrollXProgress:(0,value.OQ)(0),scrollYProgress:(0,value.OQ)(0)});var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs");const e_commerce_TopBarScrollContext=(0,react.createContext)({isScrolled:!1,onTopBarHover:topBarHover=>{},topBarHover:!1});function TopbarOnScroll(param){let{children,containerClassName,className}=param;const{scrollY}=function useScroll({container,target,layoutEffect=!0,...options}={}){const values=(0,use_constant.M)(createScrollMotionValues);return(layoutEffect?use_isomorphic_effect.E:react.useEffect)((()=>(refWarning("target",target),refWarning("container",container),scrollInfo((({x,y})=>{values.scrollX.set(x.current),values.scrollXProgress.set(x.progress),values.scrollY.set(y.current),values.scrollYProgress.set(y.progress)}),{...options,container:(null==container?void 0:container.current)||void 0,target:(null==target?void 0:target.current)||void 0}))),[container,target,JSON.stringify(options.offset)]),values}(),[isScrolled,setIsScrolled]=(0,react.useState)(!1),[topBarHover,onTopBarHover]=(0,react.useState)(!1);return(0,react.useEffect)((()=>scrollY.onChange((()=>function update(){(null==scrollY?void 0:scrollY.current)>350?setIsScrolled(!0):setIsScrolled(!1)}())))),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(e_commerce_TopBarScrollContext.Provider,{value:{isScrolled,onTopBarHover,topBarHover},children:(0,jsx_runtime.jsxs)("div",{className:containerClassName,children:[(0,jsx_runtime.jsx)(motion.P.nav,{variants:{visible:{opacity:1},hidden:{opacity:0}},animate:isScrolled?"hidden":"visible",transition:{duration:.3},className:"bg-transparent  w-full ".concat(className," "),children}),(0,jsx_runtime.jsx)(motion.P.nav,{variants:{visible:{opacity:1,y:0},hidden:{opacity:0,y:-350}},animate:isScrolled?"visible":"hidden",transition:{duration:.3},className:"bg-gray-100 fixed top-0 left-0 w-full opacity-0 text-gray-900 ".concat(className," "),children})]})})})}function Logo(){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-end gap-8 text-lg px-3 z-[11] ",children:(0,jsx_runtime.jsx)("span",{className:"border border-[#fb7c00] px-2 py-1 bg-white text-[#fb7c00] font-extrabold",children:"Tasty Treats"})})})}function TopBarIcons(){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-end gap-6 px-6",children:[(0,jsx_runtime.jsx)("div",{className:"",children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons.$UM,size:"1x"})}),(0,jsx_runtime.jsx)("div",{className:"",children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons.X46,size:"1x"})}),(0,jsx_runtime.jsx)("div",{className:"",children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons._Ro,size:"1x"})})]})})}TopbarOnScroll.__docgenInfo={description:"",methods:[],displayName:"TopbarOnScroll"};const mcontents={type:"list",childrens:[{name:"Breakfast",type:"mega",childrens:[{name:"Breakfast 1",childrens:[{name:"Breakfast 1 1"},{name:"Breakfast 1 2"},{name:"Breakfast 1 3"}]},{name:"Breakfast 2"},{name:"Breakfast 3"}]},{name:"Lunch",childrens:[{name:"Lunch 1"},{name:"Lunch 2"},{name:"Lunch 3"}]},{name:"Dinner",childrens:[{name:"Dinner 1"},{name:"Dinner 2"},{name:"Dinner 3"}]},{name:"Deserts",childrens:[{name:"Deserts 1"},{name:"Deserts 2"},{name:"Deserts 3"}]}]};function DesktopMenu(param){let{contents}=param;const scrollData=(0,react.useContext)(e_commerce_TopBarScrollContext),[action,setAction]=(0,react.useState)("");return(0,react.useEffect)((()=>{null==scrollData||scrollData.onTopBarHover("Glass"==action)}),[action]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full h-full top-0 left-0 transition ease-in duration-[0.3s] py-4 z-10",style:{},children:(0,jsx_runtime.jsx)("ul",{className:"text-sm flex",children:Boolean(null==contents?void 0:contents.childrens)&&(null==contents?void 0:contents.childrens.map(((m,key)=>(0,jsx_runtime.jsxs)("li",{className:"inline-flex",onMouseEnter:e=>{e.preventDefault(),setAction(m.name)},onMouseLeave:e=>{e.preventDefault(),setAction("")},children:[(0,jsx_runtime.jsx)("a",{href:"",className:"block font-bold px-4 py-2 z-[10] after:block after:pt-1 after:transition after:ease-in after:duration-[0.25s] after:scale-x-[0%] hover:after:scale-x-[100%] after:border-b-[2px] after:border-gray-700 after:content-['']",onClick:e=>{e.preventDefault()},children:m.name}),(null==m?void 0:m.type)&&"megaa"==(null==m?void 0:m.type)?(0,jsx_runtime.jsx)("div",{className:"z-[9] bg-white text-gray-900 p-8 w-full absolute top-0 left-0 transition ease-in duration-[0.3s]",style:action!=m.name?{transform:"translateY(-100%)",opacity:0}:{transform:"translateY(0%)",opacity:1}}):null]},key))))})})})}function IconMobileMenu(param){let{contents}=param;const[action,setAction]=(0,react.useState)(!1),[bookmarks,setBookmarks]=(0,react.useState)([]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("button",{className:"m-8",onClick:()=>{setAction(!action)},children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons.ckx})}),(0,jsx_runtime.jsx)("div",{className:"fixed top-0 left-0 h-screen w-screen translate-x-[-100%] transition ease-in duration-[0.1s] overflow-hidden ",style:{transform:action?"translateX(0%)":"translateX(-100%)"},children:(0,jsx_runtime.jsxs)("div",{className:"h-full w-full bg-gray-100",children:[(0,jsx_runtime.jsx)("div",{className:"bg-white",children:(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-start ",children:[bookmarks.length>0&&(0,jsx_runtime.jsx)("button",{className:"m-4",onClick:()=>{setBookmarks(bookmarks.slice(0,-1))},children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons.Wzs,width:"3em",size:"lg"})}),(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("button",{className:"m-4",onClick:()=>{setAction(!action)},children:(0,jsx_runtime.jsx)(index_es.g,{icon:free_solid_svg_icons.yYc,width:"3em",size:"lg"})})]})}),(0,jsx_runtime.jsx)("div",{className:"relative top-0 left-0 w-full h-full z-10",children:(0,jsx_runtime.jsx)(MenuList,{contents,click:a=>{setBookmarks([...bookmarks,a])},bookmarks})})]})})]})}function MenuList(param){let{contents,parent="",root=!0,bookmarks=[],click}=param;const[action,setAction]=(0,react.useState)("");return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"w-full h-full absolute top-0 transition ease-in duration-[0.3s] bg-gray-100",style:{transform:root||bookmarks.includes(parent)?"translateX(0%)":"translateX(100%)"},children:(0,jsx_runtime.jsx)("ul",{className:"text-sm",children:Boolean(null==contents?void 0:contents.childrens)&&(null==contents?void 0:contents.childrens.map(((m,key)=>(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("a",{href:"",className:"block px-4 py-2 ",onClick:e=>{e.preventDefault(),setAction(m.name),Boolean(null==m?void 0:m.childrens)&&click(m.name)},children:m.name}),Boolean(null==m?void 0:m.childrens)?(0,jsx_runtime.jsx)(MenuList,{contents:m,parent:m.name,root:!1,click,bookmarks}):null]},key))))})})})}function TopBarChildren(){(0,react.useContext)(e_commerce_TopBarScrollContext);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between gap-4 w-full ",children:[(0,jsx_runtime.jsx)("div",{className:"hidden md:flex w-0 md:w-[180px]",children:(0,jsx_runtime.jsx)(Logo,{})}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 flex items-center md:justify-center",children:[(0,jsx_runtime.jsx)("div",{className:"lg:hidden",children:(0,jsx_runtime.jsx)(IconMobileMenu,{contents:mcontents})}),(0,jsx_runtime.jsx)("div",{className:"hidden lg:flex",children:(0,jsx_runtime.jsx)(DesktopMenu,{contents:mcontents})})]}),(0,jsx_runtime.jsx)("div",{className:"flex justify-end w-[180px] lg:z-10",children:(0,jsx_runtime.jsx)(TopBarIcons,{})})]})})}function TopBar(param){let{children}=param;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"relative top-0 left-0 w-full m-0 bg-gray-100 hh-[72px] z-[10]",children:(0,jsx_runtime.jsx)(TopbarOnScroll,{containerClassName:"w-full z-[8]",className:"text-gray-700 shadow",children:(0,jsx_runtime.jsx)("div",{className:"min-h-[72px] z-10 flex items-center",children:(0,jsx_runtime.jsx)(TopBarChildren,{})})})}),(0,jsx_runtime.jsx)("div",{className:"mbb-[72px]"})]})}TopBar.__docgenInfo={description:"",methods:[],displayName:"TopBar"}}}]);