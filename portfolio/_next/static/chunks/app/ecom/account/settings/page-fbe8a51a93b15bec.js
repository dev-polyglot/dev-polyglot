(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{7745:function(e,l,s){Promise.resolve().then(s.bind(s,8987))},8987:function(e,l,s){"use strict";s.d(l,{default:function(){return M}});var a=s(7437),n=s(2265),r=s(6765),i=s(9033);function d(){let e=(0,n.useRef)(!1);return(0,i.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var c=s(6219),t=s(7797),o=s(458),u=s(9791);class x extends n.Component{getSnapshotBeforeUpdate(e){let l=this.props.childRef.current;if(l&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=l.offsetHeight||0,e.width=l.offsetWidth||0,e.top=l.offsetTop,e.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:l}){let s=(0,n.useId)(),r=(0,n.useRef)(null),i=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,n.useContext)(u._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:a,top:n,left:c}=i.current;if(l||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let t=document.createElement("style");return d&&(t.nonce=d),document.head.appendChild(t),t.sheet&&t.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${n}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(t)}},[l]),(0,a.jsx)(x,{isPresent:l,childRef:r,sizeRef:i,children:n.cloneElement(e,{ref:r})})}let m=({children:e,initial:l,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:d,mode:c})=>{let u=(0,o.h)(v),x=(0,n.useId)(),m=(0,n.useMemo)(()=>({id:x,initial:l,isPresent:s,custom:i,onExitComplete:e=>{for(let l of(u.set(e,!0),u.values()))if(!l)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))}),d?[Math.random()]:[s]);return(0,n.useMemo)(()=>{u.forEach((e,l)=>u.set(l,!1))},[s]),n.useEffect(()=>{s||u.size||!r||r()},[s]),"popLayout"===c&&(e=(0,a.jsx)(h,{isPresent:s,children:e})),(0,a.jsx)(t.O.Provider,{value:m,children:e})};function v(){return new Map}var f=s(5050),p=s(9047);let j=e=>e.key||"",N=({children:e,custom:l,initial:s=!0,onExitComplete:r,exitBeforeEnter:t,presenceAffectsLayout:o=!0,mode:u="sync"})=>{var x;(0,p.k)(!t,"Replace exitBeforeEnter with mode='wait'");let h=(0,n.useContext)(f.p).forceRender||function(){let e=d(),[l,s]=(0,n.useState)(0),a=(0,n.useCallback)(()=>{e.current&&s(l+1)},[l]);return[(0,n.useCallback)(()=>c.Wi.postRender(a),[a]),l]}()[0],v=d(),N=function(e){let l=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&l.push(e)}),l}(e),g=N,y=(0,n.useRef)(new Map).current,b=(0,n.useRef)(g),w=(0,n.useRef)(new Map).current,C=(0,n.useRef)(!0);if((0,i.L)(()=>{C.current=!1,function(e,l){e.forEach(e=>{let s=j(e);l.set(s,e)})}(N,w),b.current=g}),x=()=>{C.current=!0,w.clear(),y.clear()},(0,n.useEffect)(()=>()=>x(),[]),C.current)return(0,a.jsx)(a.Fragment,{children:g.map(e=>(0,a.jsx)(m,{isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:u,children:e},j(e)))});g=[...g];let R=b.current.map(j),k=N.map(j),X=R.length;for(let e=0;e<X;e++){let l=R[e];-1!==k.indexOf(l)||y.has(l)||y.set(l,void 0)}return"wait"===u&&y.size&&(g=[]),y.forEach((e,s)=>{if(-1!==k.indexOf(s))return;let n=w.get(s);if(!n)return;let i=R.indexOf(s),d=e;d||(d=(0,a.jsx)(m,{isPresent:!1,onExitComplete:()=>{y.delete(s);let e=Array.from(w.keys()).filter(e=>!k.includes(e));if(e.forEach(e=>w.delete(e)),b.current=N.filter(l=>{let a=j(l);return a===s||e.includes(a)}),!y.size){if(!1===v.current)return;h(),r&&r()}},custom:l,presenceAffectsLayout:o,mode:u,children:n},j(n)),y.set(s,d)),g.splice(i,0,d)}),g=g.map(e=>{let l=e.key;return y.has(l)?e:(0,a.jsx)(m,{isPresent:!0,presenceAffectsLayout:o,mode:u,children:e},j(e))}),(0,a.jsx)(a.Fragment,{children:y.size?g:g.map(e=>(0,n.cloneElement)(e))})};function g(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"",children:(0,a.jsx)("input",{className:"px-4 py-3 w-full rounded-lg mb-6 shadow",...e})})})}function y(e){let{getFormValues:l,cancel:s,addressForm:r={}}=e,i=(0,n.useRef)(null),d=(0,n.useRef)(null),c=(0,n.useRef)(null),t=(0,n.useRef)(null),o=(0,n.useRef)(null),u=(0,n.useRef)(null),x=(0,n.useRef)(null),h=(0,n.useRef)(null),m=(0,n.useRef)(null),v=(0,n.useRef)(null),f=()=>{var e,l,s,a,n,r,f,p,j,N;return{country:null==i?void 0:null===(e=i.current)||void 0===e?void 0:e.value,first_name:null==d?void 0:null===(l=d.current)||void 0===l?void 0:l.value,last_name:null==c?void 0:null===(s=c.current)||void 0===s?void 0:s.value,address1:null==t?void 0:null===(a=t.current)||void 0===a?void 0:a.value,address2:null==o?void 0:null===(n=o.current)||void 0===n?void 0:n.value,po_box:null==u?void 0:null===(r=u.current)||void 0===r?void 0:r.value,city:null==x?void 0:null===(f=x.current)||void 0===f?void 0:f.value,region:null==h?void 0:null===(p=h.current)||void 0===p?void 0:p.value,postal_code:null==m?void 0:null===(j=m.current)||void 0===j?void 0:j.value,mobile_number:null==v?void 0:null===(N=v.current)||void 0===N?void 0:N.value}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 my-4",children:(0,a.jsxs)("select",{className:"px-6 py-3 bg-white shadow",ref:i,value:null==r?void 0:r.country,onChange:()=>{},children:[(0,a.jsx)("option",{value:"",children:"Country"}),(0,a.jsx)("option",{value:"india",children:"India"}),(0,a.jsx)("option",{value:"us",children:"US"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(g,{placeholder:"First Name",ref:d,value:null==r?void 0:r.first_name,onChange:()=>{}}),(0,a.jsx)(g,{placeholder:"Last Name",ref:c,value:null==r?void 0:r.last_name,onChange:()=>{}})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsx)("textarea",{placeholder:"Street Address",rows:1,className:"col-span-2 p-4",ref:t,value:null==r?void 0:r.address1,onChange:()=>{}})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsx)("textarea",{placeholder:"Address 2",rows:1,className:"col-span-2 p-4",ref:o,value:null==r?void 0:r.address2,onChange:()=>{}})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 p-4",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("input",{type:"checkbox",ref:u,checked:(null==r?void 0:r.po_box)=="on",onChange:()=>{}})}),(0,a.jsx)("div",{className:"",children:"PO Box"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(g,{placeholder:"City",ref:x,value:null==r?void 0:r.city,onChange:()=>{}}),(0,a.jsx)(g,{placeholder:"Province/Region",ref:h,value:null==r?void 0:r.region,onChange:()=>{}})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(g,{placeholder:"Postal Code",ref:m,value:null==r?void 0:r.postal_code,onChange:()=>{}}),(0,a.jsx)(g,{placeholder:"Mobile Number",ref:v,value:null==r?void 0:r.mobile_number,onChange:()=>{}})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{s()},children:"Cancel"}),(0,a.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{l(f())},children:"Save"})]})]})})}var b=s(8771),w=s(1444),C=s(6920),R=s(5079);function k(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"",children:(0,a.jsx)("input",{className:"px-4 py-3 w-full rounded-lg mb-6 shadow",...e})})})}function X(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(k,{type:"password",placeholder:"Old Password"})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)(k,{type:"password",placeholder:"New Password"})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)(k,{type:"password",placeholder:"Confirm Password"})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{className:"border px-6 py-3 rounded-full",children:"Change Password"})})]})})}function E(e){let{getFormValues:l,cancel:s,addressForm:r={}}=e,i=(0,n.useRef)(null),d=(0,n.useRef)(null),c=(0,n.useRef)(null),t=(0,n.useRef)(null),o=(0,n.useRef)(null),u=(0,n.useRef)(null),x=()=>{var e,l,s,a,n,r;return{card_number:null==i?void 0:null===(e=i.current)||void 0===e?void 0:e.value,mm:null==d?void 0:null===(l=d.current)||void 0===l?void 0:l.value,yy:null==c?void 0:null===(s=c.current)||void 0===s?void 0:s.value,code:null==t?void 0:null===(a=t.current)||void 0===a?void 0:a.value,type:null==o?void 0:null===(n=o.current)||void 0===n?void 0:n.value,save:null==u?void 0:null===(r=u.current)||void 0===r?void 0:r.value}};return(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(k,{placeholder:"XXXX-XXXX-XXXX-XXXX",ref:i})}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(k,{placeholder:"MM",ref:d})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(k,{placeholder:"YY",ref:c})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(k,{placeholder:"code",ref:t})})]}),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex gap-2 items-center",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("input",{type:"radio",name:"card",value:"visa",ref:o})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:"/visa.png"})})]}),(0,a.jsxs)("label",{className:"flex gap-2 items-center",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("input",{type:"radio",name:"card",value:"mastercard",ref:o})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:"/master-card.png"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-c flex gap-2 my-4 mb-10",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"checkbox",ref:u})}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"Save card for easy checkout."})})]})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{s()},children:"Cancel"}),(0,a.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{l(x())},children:"Save"})]})]})}function P(){let[e,l]=(0,n.useState)({}),[s,r]=(0,n.useState)("list"),i=(0,w.v9)(e=>e.account.cards);return(0,n.useEffect)(()=>{console.log("getFormValues",e),Object.keys(e).length>0&&"add"==s&&(b.ZP.dispatch((0,b.BN)(e)),r("list"))},[e]),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("h2",{className:"text-2xl my-6",children:"Payment"})}),(0,a.jsx)("div",{className:"",children:"list"==s?(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:i&&i.length>0?(0,a.jsx)("button",{className:"text-sm my-6",onClick:()=>{r("add")},children:"+Add Card"}):null}),(0,a.jsx)("div",{className:"",children:i&&i.length>0?(0,a.jsx)("div",{className:"",children:i.map((e,l)=>(0,a.jsxs)("div",{className:"flex gap-4 border px-6 py-3",children:[(0,a.jsxs)("div",{className:"flex-1 w-full flex gap-2 items-center",children:["visa"==e.type?(0,a.jsx)("img",{src:"/visa.png"}):"mastercard"==e.type?(0,a.jsx)("img",{src:"/master-card.png"}):null,(0,a.jsx)("div",{className:"",children:"XXXX-XXXX-XXXX-".concat(e.card_number.slice(-4))})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{className:" ",onClick:()=>{b.ZP.dispatch((0,b.yJ)(l))},children:"Remove"})})]},"k-".concat(l)))}):(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-sm my-6",children:"No cards avaialable, please add one."})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("button",{className:"text-sm my-6",onClick:()=>{r("add")},children:"+Add Card"})})]})})]}):null}),(0,a.jsx)("div",{className:"",children:"add"==s?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(E,{getFormValues:e=>{l(e)},cancel:()=>{r("list")}})}):null})]})})}function _(){let[e,l]=(0,n.useState)({}),[s,r]=(0,n.useState)("list"),i=(0,w.v9)(e=>e.account.addresses),d=e=>{l(e)},c=()=>{r("list")};return(0,n.useEffect)(()=>{console.log("getFormValues",e),Object.keys(e).length>0&&"add"==s&&(b.ZP.dispatch((0,b.y$)(e)),r("list"))},[e]),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("h2",{className:"text-2xl my-6",children:"Delivery Addresses"})}),(0,a.jsx)("div",{className:"",children:"list"==s?(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"",children:i&&i.length>0?(0,a.jsx)("button",{className:"text-sm my-6",onClick:()=>{r("add")},children:"+Add Address"}):null}),(0,a.jsx)("div",{className:"",children:i&&i.length>0?(0,a.jsx)("div",{className:"",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-4 border px-6 py-3",children:[(0,a.jsxs)("div",{className:"flex-1 w-full",children:[(0,a.jsxs)("div",{className:"",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("div",{className:"",children:e.address1}),(0,a.jsx)("div",{className:""})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:" ",onClick:()=>{r("edit"),l(e)},children:"Edit"})," |",(0,a.jsx)("button",{className:" ",onClick:()=>{b.ZP.dispatch((0,b.Ro)(s))},children:"Remove"})]})]},"k-".concat(s)))}):(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-sm my-6",children:"No address avaialable, please add a delivery address."})}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("button",{className:"text-sm my-6",onClick:()=>{r("add")},children:"+Add Address"})})]})})]}):null}),(0,a.jsx)("div",{className:"",children:"add"==s?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(y,{getFormValues:d,cancel:c})}):null}),(0,a.jsx)("div",{className:"",children:"edit"==s?(0,a.jsx)("div",{className:"",children:(0,a.jsx)(y,{getFormValues:d,cancel:c,addressForm:e})}):null})]})})}function F(e){let{child:l}=e;return"change-password"==l?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(X,{})}):"payment"==l?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(P,{})}):"address"==l?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(_,{})}):(0,a.jsx)(a.Fragment,{})}let[A,O,S]=[{icon:(0,a.jsx)(C.G,{icon:R.dLO}),label:"Addresses",child:"address"},{icon:(0,a.jsx)(C.G,{icon:R.Ozh}),label:"Payments",child:"payment"},{icon:(0,a.jsx)(C.G,{icon:R.DD4}),label:"Change Password",child:"change-password"}],L=[A,O,S];function M(){let[e,l]=(0,n.useState)(L[0]);return(0,n.useEffect)(()=>{l(L[0])},[L]),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("nav",{className:"h-12 border-b bg-white px-1 pt-1",children:(0,a.jsx)("ul",{className:"flex w-full flex-1 items-end justify-start grow-1 h-full ",children:L.map(s=>(0,a.jsxs)("li",{className:s===e?"selected  p-2 h-full w-full flex bg-gray-100 relative":" p-2 h-full w-full flex relative",onClick:()=>l(s),children:[s.icon," ",(0,a.jsx)("span",{className:"pl-2",children:" ".concat(s.label)}),s===e?(0,a.jsx)(r.E.div,{className:"underline",layoutId:"underline"}):null]},s.label))})}),(0,a.jsx)("main",{className:"flex items-center jusify-center grow-1 bg-white p-4 ",children:(0,a.jsx)(N,{mode:"wait",children:(0,a.jsx)(r.E.div,{initial:{y:0,opacity:0},animate:{y:0,opacity:1},exit:{y:-0,opacity:0},transition:{duration:.2},className:"w-full",children:(0,a.jsx)(F,{child:null==e?void 0:e.child})},e?e.label:"empty")})})]})}}},function(e){e.O(0,[676,444,928,920,765,771,971,23,744],function(){return e(e.s=7745)}),_N_E=e.O()}]);