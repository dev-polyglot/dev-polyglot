(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6319],{6963:function(e,l,r){Promise.resolve().then(r.bind(r,4451))},4451:function(e,l,r){"use strict";var s=r(7437),n=r(2265),t=r(8771),a=r(1444),i=r(5575),c=r(6934),u=r(9772);function o(e){let{children:l,heading:r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)("h2",{className:"text-2xl my-2",children:r})})})})}function d(e){let{children:l,heading:r,setAction:n}=e,t=(0,a.v9)(e=>e.account.user);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex gap-4 border px-6 py-4 my-6",children:[(0,s.jsxs)("div",{className:"flex-1 w-full flex flex-col gap-1 justify-center",children:[(0,s.jsx)("div",{className:"text-sm",children:t.username}),(0,s.jsxs)("div",{className:"text-normal font-bold",children:[t.firstname," ",t.lastname]}),(0,s.jsx)("div",{className:"text-sm",children:t.email})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("button",{className:" ",onClick:()=>{n("edit")},children:"Edit"})})]})})}function x(e){let{children:l,heading:r,setAction:n}=e,o=(0,a.I0)(),d=(0,a.v9)(e=>e.account.user),{form:x,validate:m,getValues:f}=(0,c.SL)({username:u.z.string().min(5).refine(e=>/^[a-zA-Z]+$/.test(e),{message:"username should only contain letters."}),firstname:u.z.string().min(5).refine(e=>/^[a-zA-Z]+$/.test(e),{message:"firstname should only contain letters."}),lastname:u.z.string().min(5).refine(e=>/^[a-zA-Z]+$/.test(e),{message:"lastname should only contain letters."}),email:u.z.string().min(5).refine(e=>/^[a-zA-Z]+$/.test(e),{message:"email should only contain letters."})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4  px-6 py-4 my-6",children:[(0,s.jsxs)("div",{className:"flex-1 w-full flex flex-col gap-1 justify-center",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsx)(i.Z,{type:"text",placeholder:"Username",helper:x.username,defaultValue:d.username})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(i.Z,{type:"text",placeholder:"First Name",helper:x.firstname,defaultValue:d.firstname})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(i.Z,{type:"text",placeholder:"Last Name",helper:x.lastname,defaultValue:d.lastname})}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)(i.Z,{type:"email",placeholder:"Email",helper:x.email,defaultValue:d.email})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{n("list")},children:"Cancel"}),(0,s.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{m()&&(o((0,t.av)(f())),n("list"))},children:"Save"})]})]})})}l.default=function(e){let{children:l}=e,[r,t]=(0,n.useState)("list");return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)(o,{heading:"Personal Info"}),"list"==r?(0,s.jsx)(d,{setAction:t}):null,"edit"==r?(0,s.jsx)(x,{setAction:t}):null]})})}},5537:function(e,l,r){"use strict";var s=r(7437);l.Z=function(e){let{children:l,f:r,className:n,...t}=e,a=" ".concat((()=>{let e=[];return r&&(e.push("flex"),r.includes("h")&&e.push("items-center"),r.includes("v")&&e.push("justify-center"),r.includes("fc")&&e.push("flex-col"),r.includes("fr")&&e.push("flex-row")),e.join(" ")})()," ").concat(n||""," ");return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:" ".concat(a," "),...t,children:l})})}},2930:function(e,l,r){"use strict";var s=r(7437);let n=(0,r(2265).forwardRef)(function(e,l){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)("input",{className:"px-4 py-3 w-full rounded-lg ",ref:e.iref,...e})})})});function t(e){let{children:l,className:r,placeholder:n,...t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",{className:r||"",placeholder:n||"",...t})})}l.Z=function(e){return(null==e?void 0:e.iref)?(0,s.jsx)(n,{...e}):(0,s.jsx)(t,{...e})}},6638:function(e,l,r){"use strict";var s=r(7437);l.Z=function(e){let{children:l,...r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("li",{...r,children:l})})}},7858:function(e,l,r){"use strict";var s=r(7437);l.Z=function(e){let{children:l,...r}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{...r,children:l})})}},4518:function(e,l,r){"use strict";var s=r(7437),n=r(2930),t=r(5537),a=r(7858),i=r(6638);l.Z=function(e){var l,r;let{children:c,helper:u,...o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(t.Z,{children:[(0,s.jsxs)(t.Z,{f:"frh",className:"gap-2 my-2",children:[(0,s.jsx)(n.Z,{type:"radio",iref:null==u?void 0:u.ref,onChange:null==u?void 0:u.onChange,...o}),c]}),Array.isArray(null==u?void 0:u.errors)&&(null==u?void 0:null===(l=u.errors)||void 0===l?void 0:l.length)>0?(0,s.jsx)(a.Z,{className:"flex-col m-1 text-sm text-red-700",children:(null==u?void 0:u.errors)&&(null==u?void 0:null===(r=u.errors)||void 0===r?void 0:r.map((e,l)=>(0,s.jsx)(i.Z,{className:"mt-1",children:e},"k-".concat(l))))}):null]})})}},5575:function(e,l,r){"use strict";var s=r(7437),n=r(5537),t=r(7858),a=r(6638),i=r(2930);l.Z=function(e){var l,r;let{children:c,type:u,placeholder:o,helper:d,...x}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.Z,{f:"c",className:"flex-col mb-6",children:[(0,s.jsx)(i.Z,{className:"px-4 py-3 w-full rounded-lg border",placeholder:o||"",iref:d.ref,...x,onBlur:d.onChange}),Array.isArray(null==d?void 0:d.errors)&&(null==d?void 0:null===(l=d.errors)||void 0===l?void 0:l.length)>0?(0,s.jsx)(t.Z,{className:"flex-col m-1 text-sm text-red-700",children:(null==d?void 0:d.errors)&&(null==d?void 0:null===(r=d.errors)||void 0===r?void 0:r.map((e,l)=>(0,s.jsx)(a.Z,{className:"mt-1",children:e},"k-".concat(l))))}):null]})})}},6934:function(e,l,r){"use strict";r.d(l,{B$:function(){return v},SL:function(){return h}});var s=r(7437),n=r(2265),t=r(9772),a=r(5575),i=r(4518),c=r(2930),u=r(5537),o=r(7858),d=r(6638),x=function(e){var l,r;let{children:n,helper:t,...a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)(u.Z,{f:"frh",className:"gap-2 my-2",children:[(0,s.jsx)(c.Z,{type:"checkbox",iref:t.ref,onChange:t.onChange,...a}),n]}),Array.isArray(null==t?void 0:t.errors)&&(null==t?void 0:null===(l=t.errors)||void 0===l?void 0:l.length)>0?(0,s.jsx)(o.Z,{className:"flex-col m-1 text-sm text-red-700",children:(null==t?void 0:t.errors)&&(null==t?void 0:null===(r=t.errors)||void 0===r?void 0:r.map((e,l)=>(0,s.jsx)(d.Z,{className:"mt-1",children:e},"k-".concat(l))))}):null]})})};let m=e=>{let{component:l,...r}=e;return"textinput"==l?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{...r})}):"radio"==l?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{...r})}):"checkbox"==l?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(x,{...r})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{...r})})},f=(e,l)=>{let[r,s]=(0,n.useState)(null),[t,a]=(0,n.useState)([]),i=(0,n.useRef)(null),c=()=>{if(l){var e,r;let s=l.safeParse(i.current.value);return a((null==s?void 0:null===(r=s.error)||void 0===r?void 0:null===(e=r.format())||void 0===e?void 0:e._errors)||[]),(null==s?void 0:s.success)||!1}return!1};return Object.freeze({ref:i,onChange:e=>{c()&&s(e)},getValue:()=>{var e;return null==i?void 0:null===(e=i.current)||void 0===e?void 0:e.value},validate:c,validator:l,errors:t,setErrors:a})},h=(e,l)=>{let r=Object.keys(e),s=(()=>{let l={};return r.forEach(r=>{l[r]=f(r,e[r])}),l})();return{form:s,validate:()=>{let e={},l={};r.forEach(r=>{e[r]=s[r].getValue(),l[r]=s[r].validator,s[r].validate()});let n=t.z.object(l).safeParse(e);return(null==n?void 0:n.success)||!1},getValues:()=>{let e={};return r.forEach(l=>{e[l]=s[l].getValue()}),e}}},v=(e,l,r,n,a,i)=>{let c={},u=[],o=n?Object.keys(n):[];console.log(o),e.forEach(e=>{if("object"==typeof e&&"string"==typeof(null==e?void 0:e.slug)&&e.slug&&"inputgroup"!==e.type)c[e.slug]=f(e.slug,e.validator),o.includes(e.slug)&&(e.props.defaultValue=n[e.slug]),u.push((0,s.jsx)(m,{helper:c[e.slug],component:e.type,...e.props}));else if("inputgroup"==e.type){let l=[];e.children.forEach(e=>{!Array.isArray(e)&&"object"==typeof e&&"string"==typeof(null==e?void 0:e.slug)&&e.slug&&(c[e.slug]=f(e.slug,e.validator),o.includes(e.slug)&&(e.props.defaultValue=n[e.slug]),l.push((0,s.jsx)(m,{helper:c[e.slug],component:e.type,...e.props})))}),u.push((0,s.jsx)("div",{className:e.containerClassNames,children:l.map((l,r)=>(0,s.jsx)("div",{className:e.classNames,children:l},"k-".concat(r)))}))}});let d=(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl my-6",children:l}),(0,s.jsxs)("form",{children:[u.map((e,l)=>(0,s.jsx)("div",{children:e},"k-".concat(l))),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[a&&(0,s.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:a,children:"Cancel"}),i&&(0,s.jsx)("button",{className:"border px-6 py-3 rounded-full",onClick:()=>{i(x())},children:"Submit"})]})]})]}),x=()=>{let e=Object.keys(c),l={};return e.forEach(e=>{l[e]=c[e].getValue()}),l};return{formComponent:d,form:c,validate:()=>{var e;let l=Object.keys(c),s={},n={};l.forEach(e=>{s[e]=c[e].getValue(),n[e]=c[e].validator,c[e].validate()});let a=t.z.object(n);r.forEach(e=>{a=a.refine(e.check,e.ctx)});let i=a.safeParse(s),u=null==i?void 0:null===(e=i.error)||void 0===e?void 0:e.format();return l.forEach(e=>{if(null==u?void 0:u.hasOwnProperty(e)){var l;c[e].setErrors((null===(l=u[e])||void 0===l?void 0:l._errors)||[])}}),(null==i?void 0:i.success)||!1},getValues:x}}}},function(e){e.O(0,[1444,928,9772,8771,2971,7023,1744],function(){return e(e.s=6963)}),_N_E=e.O()}]);